(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){var r={"./core.en.i18n.json":29,"./core.zh.i18n.json":30};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=28},29:function(e){e.exports={basic:"Basic",default:"Default",nestedKey:"Nested",obj_param:"Object Param",arr_param:"Array Param",arr_key:"Array Key",component_translator:"Component Translator",hello_world:"Hello World",default_message:"Default Message",nested:{a:"Nested A",b:"Nested B"},objParam:"{ a } plus { b } equals {sum }",arrParam:"I have three brothers, their names are {0}, {1} and {2}",zhang_san:"Peter",zhao_si:"Tom",wang_wu:"John",arr_keys:["Key1","Key2"]}},30:function(e){e.exports={basic:"基础",default:"缺省",nestedKey:"嵌套",obj_param:"对象参数",arr_param:"数组参数",arr_key:"数组键",component_translator:"组件翻译",hello_world:"你好世界",nested:{a:"嵌套 A",b:"嵌套 B"},objParam:"{ a } 与 { b } 的和是 { sum }",arrParam:"我有三个兄弟，他们叫{0}，{1}和{2}",zhang_san:"张三",zhao_si:"赵四",wang_wu:"王五"}},32:function(e,t,n){"use strict";n.r(t);var r,a,o=n(33),l=n(0),c=n.n(l),u=n(11);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.EN="en",e.ZH="zh"}(a||(a={}));var s=a,f=s.EN,p=s.ZH;i(r={},f,p),i(r,p,f);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchers=[],this.get=function(t,r,a){var o=e.translations[n.locale],l=n.getValue(o,t);if(void 0===l){if(n.defaultLocale&&n.defaultLocale!==n.locale){var c=e.translations[n.defaultLocale];l=n.getValue(c,t)}0}return null==(l=l&&l.replace(/{([^{}]+)}/g,function(e,t){return n.getValue(r,t.trim())}))?t:l},this.set=function(e){var t=e.locale,r=void 0===t?n.locale:t,a=e.defaultLocale,o=void 0===a?n.defaultLocale:a;n.locale===r&&n.defaultLocale===o||(n._locale=r,n._defaultLocale=o,n.watchers.forEach(function(e){return(0,e.watcher)({locale:n.locale,defaultLocale:n.defaultLocale})}))},"string"==typeof t&&(t={locale:t});var r=t,a=r.locale,o=r.defaultLocale;this._locale=a,this._defaultLocale=o}return function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(e,[{key:"getValue",value:function(e,t){var n=e;return(t=t.replace(/\[(\d+)\]/g,".$1")).split(".").some(function(e){if(!n||"object"!==m(n))return!0;n=n[e]}),"object"===m(n)?n&&n.toString():n}},{key:"watch",value:function(e){var t=this,n=this.watchers.find(function(t){return t.watcher===e});if(n)return n.unwatch;var r=function(){var n=t.watchers.findIndex(function(t){return t.watcher===e});-1!==n&&t.watchers.splice(n,1)};return this.watchers.push({watcher:e,unwatch:r}),r}},{key:"locale",get:function(){return this._locale}},{key:"defaultLocale",get:function(){return this._defaultLocale}}],[{key:"merge",value:function(e,t){return null}},{key:"addTranslations",value:function(t){e.merge(e.translations,t)}}]),e}();y.translations={};var b=n(2),h=n.n(b);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),g(this,_(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,c.a.PureComponent),function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(t,[{key:"getChildContext",value:function(){return{translator:this.props.translator}}},{key:"render",value:function(){return this.props.children}}]),t}();O.childContextTypes={translator:h.a.instanceOf(y)};var j=n(12),k=n.n(j);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T,N=0,z=[];function D(e){return function(t){var n=function(n){function r(t,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(a=x(this,L(r).call(this,t,n))).state={locale:a.context.translator.locale,defaultLocale:a.context.translator.defaultLocale};var o=r.cid;return e&&-1===z.indexOf(o)&&(y.addTranslations(e),z.push(o)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(r,c.a.PureComponent),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(r,[{key:"componentDidMount",value:function(){var e=this;this.unwatch=this.context.translator.watch(function(t){var n=t.locale,r=t.defaultLocale;return e.setState({locale:n,defaultLocale:r})})}},{key:"componentWillUnmount",value:function(){this.unwatch()}},{key:"render",value:function(){var e=this.context.translator;return c.a.createElement(t,Object.assign({},this.props,{t:e.get,translator:e,locale:this.state.locale,defaultLocale:this.state.defaultLocale}))}}]),r}();return n.cid=N++,n.contextTypes={translator:h.a.instanceOf(y)},k()(n,t)}}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=n(28),I=a.EN,M=a.ZH,$=(U(T={},I,[]),U(T,M,[]),R.keys().reduce(function(e,t){var n=R(t),r=t.match(/([\w-]*[\w]+)\.i18n\.json$/)[1],a=e[r]||(e[r]={});return Object.assign(a,n),e},{}));function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=D({zh:{x_man:"X 战警"},en:{x_man:"X Men"}})(function(e){var t=e.t;return c.a.createElement("div",null,t("x_man"))}),J=D({en:{defaultMsg:"Default Message"}})(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=K(this,V(t).apply(this,arguments))).state={a:1,b:1},e.changed=0,e.handleSelect=function(t){e.props.translator.set({locale:t.target.value})},e.addA=function(){e.setState({a:e.state.a+1})},e.addB=function(){e.setState({b:e.state.b+1})},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,c.a.PureComponent),function(e,t,n){t&&B(e.prototype,t),n&&B(e,n)}(t,[{key:"componentDidUpdate",value:function(e){var t=e.locale,n=this.props.locale;e.locale!==this.props.locale&&(console.log("prev:",t),console.log("curr:",n),function(e,t,n,r,a,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var l="";if(n)switch(n.constructor){case Number:l=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:l="; expires="+n;break;case Date:l="; expires="+n.toUTCString()}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+l+(a?"; domain="+a:"")+(r?"; path="+r:"")+(o?"; secure":"")}("locale",n),++this.changed%3==0&&alert("you have changed locale "+this.changed+" times!"))}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.locale,r=this.state,a=r.a,o=r.b;return c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,t("basic")),c.a.createElement("td",null,c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"col-sm-2 control-label"},t("hello_world")),c.a.createElement("div",{className:"col-sm-10"},c.a.createElement("select",{className:"form-control",defaultValue:n,onChange:this.handleSelect},c.a.createElement("option",{value:"zh"},"中文"),c.a.createElement("option",{value:"en"},"English")))))),c.a.createElement("tr",null,c.a.createElement("td",null,t("default")),c.a.createElement("td",null,c.a.createElement("div",null,t("default_message")))),c.a.createElement("tr",null,c.a.createElement("td",null,t("nestedKey")),c.a.createElement("td",null,t("nested.a"))),c.a.createElement("tr",null,c.a.createElement("td",null,t("obj_param")),c.a.createElement("td",null,c.a.createElement("div",null,t("objParam",{a:a,b:o,sum:a+o}),c.a.createElement("button",{className:"btn btn-default",onClick:this.addA},"a + 1"),c.a.createElement("button",{className:"btn btn-default",onClick:this.addB},"b + 1")))),c.a.createElement("tr",null,c.a.createElement("td",null,t("arr_param")),c.a.createElement("td",null,c.a.createElement("div",null,t("arrParam",[t("zhang_san"),t("zhao_si"),t("wang_wu")])))),c.a.createElement("tr",null,c.a.createElement("td",null,t("arr_key")),c.a.createElement("td",null,c.a.createElement("div",null,t("arr_keys[0]"),", ",t("arr_keys[1]")))),c.a.createElement("tr",null,c.a.createElement("td",null,t("component_translator")),c.a.createElement("td",null,c.a.createElement(F,null)))))}}]),t}()),Z=c.a.Fragment;y.merge=o.a,y.addTranslations($);var W=new y({defaultLocale:"en",locale:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}("locale")||"zh"});Object(u.render)(c.a.createElement(Z,null,c.a.createElement(O,{translator:W},c.a.createElement(J,null))),document.getElementById("app"))}},[[32,2,1]]]);